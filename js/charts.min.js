var getRandomDataColor,modulo=function(a,b){return(+a%(b=+b)+b)%b};getRandomDataColor=function(){var a;return a="rgba("+randomInt(0,255)+","+randomInt(0,255)+","+randomInt(0,255),{border:a+",1)",background:a+",0.2)"}},$(function(){var a,b,c,d,e,f;return $("#high-level-taxon-data").exists()&&(console.log("Rendering high level taxon data"),e=Object.toArray(window.hlTaxonLabels),d=Object.toArray(window.hlTaxonData),c=getRandomDataColor(),f=function(a,b,c){return 0===modulo(b,4)&&toFloat(a.noExponents())>=1?a.noExponents():""},a={type:"bar",data:{labels:e,datasets:[{label:"Species Count",data:d,borderColor:c.border,backgroundColor:c.background,borderWidth:1}]},options:{scales:{yAxes:[{type:"logarithmic",scaleLabel:{labelString:"Species",display:!0},ticks:{min:.75,callback:f}}],xAxes:[{scaleLabel:{labelString:"Linnean Order",display:!0}}]}}},b=$("#high-level-chart"),"object"!=typeof window._asm&&(window._asm={}),_asm.chart=new Chart(b,a),console.debug("Config:",a),b.click(function(a){var b,d,e,g,h,i,j,k;return d=_asm.chart.getDatasetAtEvent(a),g=_asm.chart.getElementAtEvent(a),console.debug("Dataset",d),console.debug("Element",g),e=g[0]._index,b=d[e],console.debug("Specific data:",b),h=b._model.label,console.debug("Taxon clicked:",h),i=window.genusData[h],console.debug("Using data",i),$("#zoom-taxon-label").html("<span class='genus'>"+h+"</span> Genus Breakdown"),c=getRandomDataColor(),j={type:"bar",data:{labels:Object.toArray(i.labels),datasets:[{label:"Species Count",data:Object.toArray(i.data),borderColor:c.border,backgroundColor:c.background,borderWidth:1}]},options:{scales:{yAxes:[{type:"logarithmic",scaleLabel:{labelString:"Species",display:!0},ticks:{min:.75,callback:f}}],xAxes:[{scaleLabel:{labelString:"Genera in "+h,display:!0},ticks:{fontStyle:"italic"}}]}}},k=$("#taxon-zoom-chart"),null!=_asm.zoomChart&&_asm.zoomChart.destroy(),_asm.zoomChart=new Chart(k,j),!1})),!1});
//# sourceMappingURL=charts.min.js.map