var getRandomDataColor,renderTaxonData,modulo=function(a,b){return(+a%(b=+b)+b)%b};getRandomDataColor=function(){var a;return a="rgba("+randomInt(0,255)+","+randomInt(0,255)+","+randomInt(0,255),{border:a+",1)",background:a+",0.2)"}},renderTaxonData=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m;null!=("undefined"!=typeof _asm&&null!==_asm?_asm.chart:void 0)&&_asm.chart.destroy(),l=function(a,b,c){return 0===modulo(b,4)&&toFloat(a.noExponents())>=1?a.noExponents():""};try{p$("#log-scale").checked?m="logarithmic":(m="linear",l=void 0)}catch(a){m="logarithmic"}if($("#high-level-taxon-data").exists()){for(console.log("Rendering high level taxon data"),g=Object.toArray(window.hlTaxonLabels),f=Object.toArray(window.hlTaxonData),d=[],h=0,i=g.length;h<i;h++)k=g[h],e=Object.toArray(window.genusData[k].labels),d.push(e.length);c=getRandomDataColor(),j=getRandomDataColor(),a={type:"bar",data:{labels:g,datasets:[{label:"Species Count",type:"bar",data:f,borderColor:c.border,backgroundColor:c.background,borderWidth:1},{label:"Genus Count",type:"line",data:d,borderColor:j.border,backgroundColor:j.background,borderWidth:1}]},options:{scales:{yAxes:[{type:m,scaleLabel:{labelString:"Species",display:!0},ticks:{min:.75}}],xAxes:[{scaleLabel:{labelString:"Linnean Order",display:!0}}]}}},null!=l&&(a.options.scales.yAxes[0].ticks.callback=l),b=$("#high-level-chart"),"object"!=typeof window._asm&&(window._asm={}),_asm.chart=new Chart(b,a),console.debug("Config:",a),b.click(function(a){var b,d,e,f,g,h,i,j;return d=_asm.chart.getDatasetAtEvent(a),f=_asm.chart.getElementAtEvent(a),console.debug("Dataset",d),console.debug("Element",f),e=f[0]._index,b=d[e],console.debug("Specific data:",b),g=b._model.label,console.debug("Taxon clicked:",g),h=window.genusData[g],console.debug("Using data",h),$("#zoom-taxon-label").html("<span class='genus'>"+g+"</span> Genus Breakdown"),c=getRandomDataColor(),i={type:"bar",data:{labels:Object.toArray(h.labels),datasets:[{label:"Species Count",data:Object.toArray(h.data),borderColor:c.border,backgroundColor:c.background,borderWidth:1}]},options:{scales:{yAxes:[{type:m,scaleLabel:{labelString:"Species",display:!0},ticks:{min:.75}}],xAxes:[{scaleLabel:{labelString:"Genera in "+g,display:!0},ticks:{fontStyle:"italic"}}]}}},null!=l&&(i.options.scales.yAxes[0].ticks.callback=l),j=$("#taxon-zoom-chart"),null!=_asm.zoomChart&&_asm.zoomChart.destroy(),_asm.zoomChart=new Chart(j,i),!1})}return!1},$(function(){renderTaxonData();try{return $("#log-scale").on("iron-change",function(){return null!=("undefined"!=typeof _asm&&null!==_asm?_asm.chart:void 0)&&_asm.chart.destroy(),renderTaxonData.debounce()})}catch(a){}});
//# sourceMappingURL=charts.min.js.map