{"version":3,"sources":["../../coffee/download.coffee"],"names":["downloadCSVList","downloadHTMLList","showDownloadChooser","indexOf","item","i","l","this","length","adjMonth","args","d","dateString","day","month","animateLoad","Date","getMonth","getDate","getUTCFullYear","$","get","searchParams","apiPath","done","result","authorityYears","c","col","colData","csv","csvBody","csvHeader","csvLiteralRow","csvRow","dirtyCol","dirtyColData","downloadable","e","fileSizeMiB","genusYear","html","k","makeTitleCase","ref","row","showColumn","speciesYear","split","tempCol","v","year","status","Error","isNull","genus","replace","error","call","push","toTitleCase","test","authority_year","isNumber","species_authority","console","warn","JSON","parse","error1","debug","slice","search","join","message","stringify","stack","Object","keys","error2","genus_authority","toInt","parens_auth_genus","toBool","parens_auth_species","error3","uri","urlString","encodeURIComponent","error4","log","exists","replaceWith","append","p$","close","downloadDataUriAsBlob","safariDialogHelper","stopLoad","error5","stopLoadError","fail","startLoad","importedCSS","htmlBody","postMessageContent","worker","toastStatusMessage","action","data","htmlHeader","Worker","info","addEventListener","dialogHtml","pdfError","updateUser","undefined","post","pdfDownload","pdfDownloadPath","file","after","always","remove","postMessage","click"],"mappings":"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","file":"download.min.js","sourcesContent":[null]}