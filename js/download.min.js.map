{"version":3,"sources":["../../coffee/download.coffee"],"names":["downloadCSVList","downloadHTMLList","showDownloadChooser","useLastSearch","adjMonth","args","button","d","dateString","day","i","len","month","ref","searchString","startTime","animateLoad","Date","now","_asm","progressTracking","estimate","searchParams","lastSearch","isNull","error","$","length","p$","disabled","undefined","getMonth","getDate","getUTCFullYear","get","apiPath","done","result","e","postMessageContent","worker","status","Error","startLoad","toastStatusMessage","action","data","Worker","console","info","addEventListener","delayCheckSqlButton","downloadable","duration","estimatedTimeRemaining","fileSizeMiB","html","message","sqlButton","timeElapsed","totalTimeEstimate","warn","updateUser","stopLoadError","isNumber","progress","exists","append","value","toFloat","push","mean","text","toInt","log","csv","error1","sqlDumpLocation","delay","replaceWith","close","debug","downloadDataUriAsBlob","safariDialogHelper","stopLoad","postMessage","stack","fail","uri","urlString","download_path","importedCSS","htmlBody","htmlHeader","dialogHtml","pdfError","encodeURIComponent","on","this","remove","post","pdfDownload","pdfDownloadPath","file","after","always","click","isChecked","checked","_this"],"mappings":"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","file":"download.min.js"}