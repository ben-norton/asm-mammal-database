{"version":3,"sources":["../../coffee/download.coffee"],"names":["downloadCSVList","downloadHTMLList","getLastSearch","reEnableClosure","showDownloadChooser","$","find","removeAttr","canonicalTaxon","ref","uri","o","attr","search","isNull","window","_activeTaxon","genus","species","subspecies","console","warn","searchParams","lastSearch","useLastSearch","adjMonth","args","button","d","dateString","day","i","len","month","searchString","startTime","animateLoad","Date","now","_asm","progressTracking","estimate","error","length","p$","disabled","undefined","q","encodeURIComponent","getMonth","getDate","getUTCFullYear","get","apiPath","buildQuery","done","result","e","postMessageContent","worker","status","Error","startLoad","toastStatusMessage","action","data","Worker","info","addEventListener","delayCheckSqlButton","downloadable","duration","estimatedTimeRemaining","fileSizeMiB","html","message","sqlButton","timeElapsed","totalTimeEstimate","updateUser","stopLoadError","isNumber","progress","exists","append","value","toFloat","push","mean","text","toInt","log","csv","error1","sqlDumpLocation","delay","replaceWith","close","debug","downloadDataUriAsBlob","safariDialogHelper","stopLoad","postMessage","stack","fail","urlString","download_path","importedCSS","htmlBody","order","htmlHeader","dialogHtml","pdfError","on","this","remove","post","pdfDownload","pdfDownloadPath","file","after","always","click","isChecked","checked","_this"],"mappings":"AAIA,IAAAA,gBAAAC,iBAAAC,cAAAC,gBAAAC,oBAAAD,gBAAkB,kBAChBE,EAAE,qBAAqBC,KAAK,yBAC3BC,WAAW,aACZ,GAGFL,cAAgB,WAEd,IAAAM,EAAAC,EAAA,IAAA,OAAAA,EAAAC,IAAAC,EAAAC,KAAA,SAAAH,EAAuBI,OAAO,0BAA3B,IAAkD,EAArD,CAEE,IAAOC,OAAOC,OAAOC,cAInB,OAHAR,EAAoBQ,aAAaC,MAAM,IAAGD,aAAaE,QAChDJ,OAAOE,aAAaG,cACzBX,GAAkB,IAAIQ,aAAaG,YAC9BX,EAEPY,QAAQC,KAAK,sCAEjB,OAAA,oBAAAC,cAAA,OAAAA,aAAGA,aAAcC,gBAAA,GACRD,aAAaC,WAEb,KAIXvB,gBAAkB,SAACwB,GACjB,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAxB,EAAAyB,EAAAC,YADiBX,GAAgB,GAOjCY,cACAD,EAAYE,KAAKC,MACjBC,KAAKC,kBACHC,aACF,IACEP,EAAkBV,EAAmBtB,gBAAqB,IACvDY,OAAOoB,KACRA,EAAe,KAHnB,MAAAQ,GAKER,EAAe,IACjB,IACE,IAAAH,EAAA,EAAAC,GAAAvB,EAAAJ,EAAA,4CAAAsC,OAAAZ,EAAAC,EAAAD,WACEa,GAAGjB,GAAQkB,UAAW,EAF1B,MAAAC,WAKApB,GACEqB,EAAGC,mBAAmBd,IACxBN,EAAQ,IAAAS,KACRZ,EAAWG,EAAEqB,WAAa,EAC1BhB,EAAyC,KAA9BR,GAAAA,GAAoBkB,OAAiB,IAAIlB,EAAgBA,EACpEK,EAA0C,KAAjCF,GAAAA,EAAEsB,WAAqBP,OAAiB,IAAIf,EAAEsB,UAA4BtB,EAAEsB,UACrFrB,EAAgBD,EAAEuB,iBAAiB,IAAGlB,EAAM,IAAGH,EAC/CzB,EAAE+C,IAAI,GAAG9B,aAAa+B,QAAWC,WAAW5B,EAAM,SACjD6B,KAAK,SAACC,GACL,IAAAC,EAAAC,EAAAC,EAAA,IACE,IAAwB,IAAjBH,EAAOI,OACZ,MAAMC,MAAM,yBACdC,YACAC,mBAAmB,sDACnBL,GACEM,OAAQ,aACRC,KAAMT,GACRG,EAAa,IAAAO,OAAO,2BACpB9C,QAAQ+C,KAAK,6BACbR,EAAOS,iBAAiB,UAAW,SAACX,GAClC,IAAAY,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAGA,IAAsB,IAAnBrB,EAAEQ,KAAKL,OAKR,OAJAxC,QAAQC,KAAK,iBACbsD,EAAiB7D,OAAO2C,EAAEQ,KAAKc,YAAuC,wBAAvBtB,EAAEQ,KAAKc,WACtDC,cAAcL,OAAS,EAAW,KAClCxE,mBACO,EACT,IAAoB,IAAjBsD,EAAEQ,KAAKV,KA+BR,OA9BOzC,OAAO2C,EAAEQ,KAAKc,YAGbE,SAASxB,EAAEQ,KAAKiB,WACf7E,EAAE,gCAAgC8E,WACvCT,EAAO,iPAWPrE,EAAE,iDAAiD+E,OAAOV,IAC5D9B,GAAG,gCAAgCyC,MAAQ5B,EAAEQ,KAAKiB,SAGlDJ,GAFAD,EAAcxC,KAAKC,MAAQH,IACNmD,QAAQ7B,EAAEQ,KAAKiB,UAAY,KAEhD3C,KAAKC,iBAAiBC,SAAS8C,KAAKT,GAIpCN,EAFuBjC,KAAKC,iBAAiBC,SAAS+C,OAENX,EAEhDxE,EAAE,6BAA6BoF,KAAKC,MAAMlB,EAAyB,OAEnEpD,QAAQuE,IAAI,iBAAkBlC,EAAEQ,OA5BhC7C,QAAQuE,IAAI,aAAalC,EAAEQ,KAAKc,YAChChB,mBAAmBN,EAAEQ,KAAKc,WAAY,OA4BjC,EAETT,EAAeb,EAAEQ,KAAK2B,IACtB,IACEnB,EAAcH,EAAa3B,OAAS,KAAO,KAD7C,MAAAkD,GAGEpB,EAAc,SAChBrD,QAAQuE,IAAI,sBAAsBlB,EAAY,QACnB,OAAxBlC,KAAKuD,iBAENlB,EAAY,mKAKTP,EAAsB,kBACI,OAAxB9B,KAAKuD,gBACNC,MAAM,IAAK,kBACT1B,OAIAO,GAFyB,IAAxBrC,KAAKuD,gBAEM,gKAKA,YACDvD,KAAKuD,gBAAgB,2BAA0BjE,EAAW,mJAEvExB,EAAE,yBAAyB2F,YAAYpB,KACzC,OAGFA,GAF8B,IAAxBrC,KAAKuD,gBAEC,gKAKA,YACDvD,KAAKuD,gBAAgB,2BAA0BjE,EAAW,mJAGvE6C,EAAO,isCAiB2F7C,EAAW,osBAQ5FyC,EAAa,2BAA0BzC,EAAW,2JAC3D+C,EAAU,sJAQXvE,EAAE,sBAAsB8E,SAG7B9E,EAAE,sBAAsB2F,YAAYtB,GAFpCrE,EAAE,QAAQ+E,OAAOV,GAGnB9B,GAAG,qBAAqBqD,QACrBxB,GAAe,GAEhBrD,QAAQ8E,MAAM,4CACdC,sBAAsB,0BAEtB/E,QAAQ8E,MAAM,+CAChBH,MAAM,IAAK,kBACTK,mBAAmB,wBACrBC,WACA9B,EAAWlC,KAAKC,MAAQH,EACxBf,QAAQ8E,MAAM,qBAAqB3B,EAAS,OAC5C,IACFZ,EAAO2C,YAAY5C,IACnB,EAlJF,MAAAmC,UAmJMpC,EAAAoC,EACJb,cAAc,sEACd5D,QAAQsB,MAAM,oCAAoCe,EAAEkB,SACpDvD,QAAQC,KAAKoC,EAAE8C,OACfnF,QAAQC,KAAK,MAAMmC,EAAO,OAAUlC,aAAa+B,QAAQ,IAAG3B,EAAQ8B,EAAOI,WAC9E4C,KAAK,kBACJxB,cAAc,8EACd7E,oBAEFoC,KAAKuD,gBAAkB,KACvBzF,EAAE+C,IAAO1C,IAAI+F,UAAU,WAAW,qBAAsB,QACvDlD,KAAK,SAACC,UACe,IAAjBA,EAAOI,OACRrB,KAAKuD,gBAAkBtC,EAAOkD,cAE9BnE,KAAKuD,iBAAkB,GACzB,IACDU,KAAK,SAAChD,EAAQI,UACbzD,mBACA,KACF,GAKFF,iBAAmB,SAACuB,GAClB,IAAAG,EAAAI,EAAAC,EAAAvB,EAAAyB,EAAAC,YADkBX,GAAgB,GAiBlCsC,YACA3B,EAAYE,KAAKC,MACjBC,KAAKC,kBACHC,aACF,IACEP,EAAkBV,EAAmBtB,gBAAqB,IACvDY,OAAOoB,KACRA,EAAe,KAHnB,MAAAQ,GAKER,EAAe,IACjB,IACE,IAAAH,EAAA,EAAAC,GAAAvB,EAAAJ,EAAA,4CAAAsC,OAAAZ,EAAAC,EAAAD,WACEa,GAAGjB,GAAQkB,UAAW,EAF1B,MAAAC,WAGA1B,QAAQ8E,MAAM,kBACd7F,EAAE+C,IAAO1C,IAAI+F,UAAU,qCACtBlD,KAAK,SAACoD,GACL,IAAAlF,EAAAC,EAAAE,EAAAC,EAAAC,EAAA8E,EAAA3E,SAAA6B,YACAlC,EAAQ,IAAAS,KACRZ,EAAWG,EAAEqB,WAAa,EAC1BhB,EAAyC,KAA9BR,GAAAA,GAAoBkB,OAAiB,IAAIlB,EAAgBA,EACpEK,EAA0C,KAAjCF,GAAAA,EAAEsB,WAAqBP,OAAiB,IAAIf,EAAEsB,UAA4BtB,EAAEsB,UACrFrB,EAAgBD,EAAEuB,iBAAiB,IAAGlB,EAAM,IAAGH,EAC/C8E,EAAW,sFAIiC/E,EAAW,0cAO3C8E,EAAY,uJAMyC9E,EAAW,QAE5ET,QAAQ8E,MAAM,iCACdxE,GACEqB,EAAGC,mBAAmBd,GACtB2E,MAAO,yDAETxG,EAAE+C,IAAI,GAAG9B,aAAa+B,QAAWC,WAAW5B,EAAM,SACjD6B,KAAK,SAACC,GACL,IAAAE,EAAAC,SAAAG,YACAC,mBAAmB,sDACnBL,GACEM,OAAQ,cACRC,KAAMT,EACNsD,WAAYF,GACdjD,EAAa,IAAAO,OAAO,2BACpB9C,QAAQ+C,KAAK,6BACbR,EAAOS,iBAAiB,UAAW,SAACX,GAClC,IAAAsD,EAAAzC,EAAAE,EAAAC,EAAAC,EAAAC,EAAAqC,EAAAnC,EAAAC,EAIA,IAAsB,IAAnBrB,EAAEQ,KAAKL,OAKR,OAJAxC,QAAQC,KAAK,iBACbsD,EAAiB7D,OAAO2C,EAAEQ,KAAKc,YAAuC,wBAAvBtB,EAAEQ,KAAKc,WACtDC,cAAcL,OAAS,EAAW,KAClCxE,mBACO,EACT,IAAoB,IAAjBsD,EAAEQ,KAAKV,KAAV,CACE,GAAOzC,OAAO2C,EAAEQ,KAAKc,YAGhB,GAAGE,SAASxB,EAAEQ,KAAKiB,UAAnB,CACI7E,EAAE,gCAAgC8E,WACvCT,EAAO,iPAWPrE,EAAE,iDAAiD+E,OAAOV,IAC5D,IACE9B,GAAG,gCAAgCyC,MAAQ5B,EAAEQ,KAAKiB,SADpD,MAAApC,IAIAgC,GAFAD,EAAcxC,KAAKC,MAAQH,IACNmD,QAAQ7B,EAAEQ,KAAKiB,UAAY,KAEhD3C,KAAKC,iBAAiBC,SAAS8C,KAAKT,GAIpCN,EAFuBjC,KAAKC,iBAAiBC,SAAS+C,OAENX,EAEhDxE,EAAE,6BAA6BoF,KAAKC,MAAMlB,EAAyB,WAEnEpD,QAAQuE,IAAI,iBAAkBlC,EAAEQ,WA7BhC7C,QAAQuE,IAAI,aAAalC,EAAEQ,KAAKc,YAChChB,mBAAmBN,EAAEQ,KAAKc,WAAY,KA6BxC,OAAO,EACT6B,EAAWnD,EAAEQ,KAAKS,KAClBJ,EAAe,gCAAgCtB,mBAAmB4D,GAClE,IACEnC,EAAcH,EAAa3B,OAAS,KAAO,KAD7C,MAAAkD,GAGEpB,EAAc,EAChBrD,QAAQuE,IAAI,sBAAsBlB,EAAY,QAC9CsC,EAAa,2VAQIzC,EAAa,2BAA0BzC,EAAW,geAW5DxB,EAAE,uBAAuB8E,SAG9B9E,EAAE,uBAAuB2F,YAAYe,GAFrC1G,EAAE,QAAQ+E,OAAO2B,GAKnB1G,EAAE,qBAAqB4G,GAAG,sBAAuB,kBAC/ClB,MAAM,IAAK,kBACT1F,EAAE6G,MAAMC,aACZ,IACEvE,GAAG,qBAAqBqD,QAD1B,MAAAnD,WAEG2B,GAAe,GAEhBrD,QAAQ8E,MAAM,4CACdC,sBAAsB,2BAEtB/E,QAAQ8E,MAAM,+CAChBE,mBAAmB,uBACnBC,WAEAtC,mBAAmB,gDAAiD,GAAI,KACxEiD,EAAW,2IAGX5F,QAAQ8E,MAAM,mBACd7F,EAAE+G,KAAQ1G,IAAI+F,UAAU,qBAAqB,QAAQzD,mBAAmB4D,GAAa,QACpFrD,KAAK,SAACC,GACL,IAAA6D,EAAAC,EACA,OADAlG,QAAQ8E,MAAM,aAAc1C,GACzBA,EAAOI,QACR0D,EAAkB,GAAG5G,IAAI+F,UAAYjD,EAAO+D,KAC5CnG,QAAQ8E,MAAMoB,GACdD,EAAc,YACDC,EAAgB,2BAA0BzF,EAAW,6IAElExB,EAAE,8CAA8CmH,MAAMH,KAEtDrC,cAAc,0BACd3E,EAAE,8CAA8CmH,MAAMR,MACzDtE,MAAM,SAACc,EAAQI,UACdoB,cAAc,4BACd3E,EAAE,8CAA8CmH,MAAMR,KACvDS,OAAO,WACN,IAAAlD,EAAA,IACElE,EAAE,iDAAiD8G,SADrD,MAAArE,WAEAyB,EAAWlC,KAAKC,MAAQH,EACxBf,QAAQ8E,MAAM,0BAA0B3B,EAAS,SACnD,IACFZ,EAAO2C,YAAY5C,IACnB,IACD8C,KAAM,kBACLxB,cAAc,8EACd7E,sBACHqG,KAAK,kBACJxB,cAAc,uCACd7E,mBACA,KACF,GAEFC,oBAAsB,WACpB,IAAAsE,SAAAA,EAAO,soBAkBArE,EAAE,qBAAqB8E,UAC5B9E,EAAE,QAAQ+E,OAAOV,GACnBrE,EAAE,0BAA0BqH,MAAM,WAEhC,IAAAC,EAAA,IACEA,EAAY/E,GAAG,eAAegF,QADhC,MAAAlF,GAGEiF,GAAY,EACd,IACE/E,GAAG,eAAeC,UAAW,EAD/B,MAAAC,WAEA9C,gBAAgB2H,KAClBtH,EAAE,2BAA2BqH,MAAM,WACjC,IAAAC,EAAA,IACEA,EAAY/E,GAAG,eAAegF,QADhC,MAAAlF,GAGEiF,GAAY,EACd,IACE/E,GAAG,eAAeC,UAAW,EAD/B,MAAAC,WAEA7C,iBAAiB0H,KAInBtH,EAAE,qBACD4G,GAAG,sBAAuB,kBACzBlB,MAAM,IAAK,SAAA8B,UAAA,kBACTxH,EAAEwH,GAAMV,UADC,CAAAD,SAEbd,mBAAmB,sBACnB","file":"download.min.js"}