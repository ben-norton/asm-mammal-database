{"version":3,"sources":["../../coffee/download.coffee"],"names":["downloadCSVList","downloadHTMLList","getLastSearch","reEnableClosure","showDownloadChooser","$","find","removeAttr","canonicalTaxon","ref","uri","o","attr","search","isNull","window","_activeTaxon","genus","species","subspecies","console","warn","searchParams","lastSearch","useLastSearch","adjMonth","args","button","d","dateString","day","i","len","month","searchString","startTime","animateLoad","Date","now","_asm","progressTracking","estimate","error","length","p$","disabled","undefined","q","encodeURIComponent","getMonth","toString","getDate","getUTCFullYear","get","apiPath","buildQuery","done","result","e","postMessageContent","worker","status","Error","startLoad","toastStatusMessage","action","data","Worker","info","addEventListener","delayCheckSqlButton","downloadable","duration","estimatedTimeRemaining","fileSizeMiB","html","message","sqlButton","timeElapsed","totalTimeEstimate","updateUser","stopLoadError","isNumber","progress","exists","append","value","toFloat","push","mean","text","toInt","log","csv","error1","sqlDumpLocation","delay","replaceWith","close","debug","downloadDataUriAsBlob","safariDialogHelper","stopLoad","postMessage","stack","fail","urlString","download_path","importedCSS","htmlBody","order","htmlHeader","dialogHtml","pdfError","on","this","remove","post","pdfDownload","pdfDownloadPath","file","after","always","click","isChecked","checked","_this"],"mappings":"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","file":"download.min.js"}